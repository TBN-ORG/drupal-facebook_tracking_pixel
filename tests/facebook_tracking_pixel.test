<?php

/**
 * @file 
 * Contains tests for the Facebook Tracking Pixel module.
 */

/**
 * Test case.
 */
class FacebookTrackingPixelTestCase extends DrupalWebTestCase {

  /**
   * Implements getInfo().
   */
  public static function getInfo() {
    return array(
      'name' => t('Facebook Tracking Pixel tests'),
      'description' => t('Place tracking pixel onto a site and control events.'),
      'group' => t('Facebook Tracking Pixel'),
    );
  }

  /**
   * Implements setUp().
   */
  function setUp() {
    // Call the parent with an array of modules to enable for the test.
    parent::setUp(array('facebook_tracking_pixel'));

    // Create a generic authenticated user.
    $this->web_user = $this->drupalCreateUser();

    // Test Basecode ID.
    db_insert('facebook_tracking_pixel_base_codes')
      ->fields([
        'base_code_name' => 'Test Basecode',
        'base_code_fbid' => '123123123',
        'base_code_global' => 1,
        'weight' => 10,
      ])
      ->execute();


    // @todo Create test Facebook Tracking Path Item


  }


  /**
   * Create a basic page node using the node form.
   */
  public function testFacebookTrackingPixelNodeCreate() {
    // Create node to edit.
    $edit = [];
    $edit['alias'] = 'nodetest';
    $node = $this->drupalCreateNode($edit);
    $this->testFacebookTrackingPixelNodeNID = $node->nid;

    $this->assertTrue(!empty($node->nid), t('A basic page has been created with node ID %nid and title %title and path alias %alias', ['%nid' => $node->nid, '%title' => $node->title, '%alias' => $node->alias]), t('Facebook Tracking Pixel'));
  }

  /**
   * Test the module's functionality.
   */
  function testTodoChangeThisName() {
    // @TODO: write test!
  }

}
